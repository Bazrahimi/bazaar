import{r as a,j as e}from"./index-7df5b2c6.js";import{u as h,e as x}from"./queries-8c77c0ea.js";import{P as j}from"./ProductGrid-7cf1a28d.js";import{u as S,D as B}from"./mutation-4586aad1.js";import{B as g}from"./chunk-PULVB27S-12838285.js";import{B as m}from"./chunk-UVUR7MCU-e2c58d54.js";import"./ApolloContext-0423ced6.js";import"./index-bcc7c8d0.js";import"./networkStatus-e971fe23.js";import"./chunk-G72KV6MB-93e738e8.js";import"./chunk-57I6FYPZ-76f28c40.js";import"./chunk-2OOHT3W5-e29e2160.js";import"./chunk-QINAG4RG-4be5ab80.js";const E=({product:l,onClose:d})=>{const[c,t]=a.useState(!1),[r,o]=a.useState(l),[n,{loading:p,error:i}]=S(B),u=()=>{t(!1)},P=async()=>{try{await n({variables:{deleteProductId:l.id}}),window.location.reload(),d()}catch(s){console.error("Failed to delete product:",s)}};return e.jsxs(g,{className:"modal",children:[c?e.jsxs(e.Fragment,{children:[e.jsx("input",{value:r.name,onChange:s=>o({...r,name:s.target.value})}),e.jsx("input",{value:r.price,onChange:s=>o({...r,price:s.target.value})}),e.jsx("button",{onClick:u,children:"Save"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{onClick:()=>t(!0),children:"Edit"}),e.jsx(m,{onClick:P,children:"Delete"})]}),";",e.jsx("button",{onClick:d,children:"Close"})]})},w=({sellerId:l})=>{const{loading:d,error:c,data:t}=h(x,{variables:{getProductsBySellerId:l}}),[r,o]=a.useState(null),n=p=>{const i=t.getProductsBySeller.find(u=>u.id===p);o(i),console.log(i)};return a.useEffect(()=>{t&&t.getProductsBySeller&&t.getProductsBySeller},[t]),e.jsxs(g,{children:[d&&e.jsx("p",{children:"Loading..."}),c&&e.jsxs("p",{children:["Error: ",c.message]}),t&&t.getProductsBySeller&&t.getProductsBySeller.length===0&&e.jsx("p",{children:"You have no products listed at the moment."}),t&&t.getProductsBySeller&&e.jsx(j,{products:t.getProductsBySeller,onClick:n}),r&&e.jsx(E,{product:r,onClose:()=>o(null)})]})};export{w as default};
