import{r as a,j as e}from"./index-5fb221e2.js";import{u as h,e as x}from"./queries-447cd7fa.js";import{P as j}from"./ProductGrid-b852cea0.js";import{u as S,D as B}from"./mutation-91b29eea.js";import{B as g}from"./chunk-PULVB27S-78b29a96.js";import{B as m}from"./chunk-UVUR7MCU-4e12b189.js";import"./ApolloContext-bd47d82f.js";import"./index-460e16aa.js";import"./networkStatus-b7430410.js";import"./chunk-G72KV6MB-0caa1c31.js";import"./chunk-57I6FYPZ-2c0ba8b1.js";import"./chunk-2OOHT3W5-17c042ab.js";import"./chunk-QINAG4RG-a7cb0012.js";const E=({product:l,onClose:d})=>{const[c,t]=a.useState(!1),[r,o]=a.useState(l),[n,{loading:p,error:i}]=S(B),u=()=>{t(!1)},P=async()=>{try{await n({variables:{deleteProductId:l.id}}),window.location.reload(),d()}catch(s){console.error("Failed to delete product:",s)}};return e.jsxs(g,{className:"modal",children:[c?e.jsxs(e.Fragment,{children:[e.jsx("input",{value:r.name,onChange:s=>o({...r,name:s.target.value})}),e.jsx("input",{value:r.price,onChange:s=>o({...r,price:s.target.value})}),e.jsx("button",{onClick:u,children:"Save"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{onClick:()=>t(!0),children:"Edit"}),e.jsx(m,{onClick:P,children:"Delete"})]}),";",e.jsx("button",{onClick:d,children:"Close"})]})},w=({sellerId:l})=>{const{loading:d,error:c,data:t}=h(x,{variables:{getProductsBySellerId:l}}),[r,o]=a.useState(null),n=p=>{const i=t.getProductsBySeller.find(u=>u.id===p);o(i),console.log(i)};return a.useEffect(()=>{t&&t.getProductsBySeller&&t.getProductsBySeller},[t]),e.jsxs(g,{children:[d&&e.jsx("p",{children:"Loading..."}),c&&e.jsxs("p",{children:["Error: ",c.message]}),t&&t.getProductsBySeller&&t.getProductsBySeller.length===0&&e.jsx("p",{children:"You have no products listed at the moment."}),t&&t.getProductsBySeller&&e.jsx(j,{products:t.getProductsBySeller,onClick:n}),r&&e.jsx(E,{product:r,onClose:()=>o(null)})]})};export{w as default};
